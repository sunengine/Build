(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"035f":function(t,e,n){"use strict";e["a"]=function(t){return t.roles.some((function(t){return"Admin"===t}))}},"127b":function(t,e,n){"use strict";var a=n("2a40"),r=n("2923"),o=n("4228"),i=n("fe3e"),c=n("6049"),s=n("1c4e"),u=n("2e5c");e["a"]={state:a["a"],actions:{loadAllSections:r["a"],makeRoutesFromSections:o["a"],registerAllSectionsTypes:i["a"]},getters:{getSection:c["a"],getSectionType:s["a"]},mutations:{registerSectionType:u["a"]}}},"1c4e":function(t,e,n){"use strict";e["a"]=function(t){return function(e){return e?t.sectionsTypes[e.toLowerCase()]:null}}},"1d8f":function(t,e,n){"use strict";(function(t,a){var r=n("967e"),o=n.n(r),i=(n("a481"),n("96cf"),n("fa84")),c=n.n(i),s=n("6fb1"),u=n("a18c");e["a"]=function(e,n){return t(a.Auth.Login,{nameOrEmail:n.nameOrEmail,password:n.password,skipLock:null===n||void 0===n?void 0:n.skipLock}).then(c()(o.a.mark((function t(){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("loadMyUserInfo");case 2:return t.next=4,e.dispatch("loadAllCategories");case 4:return t.next=6,e.dispatch("setAllRoutes");case 6:return t.next=8,e.dispatch("loadAllMenuItems");case 8:app.$successNotify(app.$t("Login.successNotify")),n.ret&&(a=u["g"].resolve(n.ret),a&&Object(s["routeHasAccess"])(a.route)&&u["g"].replace(a.route));case 10:case"end":return t.stop()}}),t)}))))}}).call(this,n("b775")["default"],n("3a75")["default"])},"1e4a":function(t,e,n){"use strict";var a=n("f5d5"),r=n("a040"),o=n("2fe3"),i=n("b591");e["a"]={state:a["a"],actions:{loadAllMenuItems:r["a"]},getters:{getMenu:o["a"]},mutations:{prepareAllMenuItems:i["a"]}}},"287e":function(t,e,n){"use strict";var a=n("967e"),r=n.n(a),o=(n("7f7f"),n("7514"),n("4db1")),i=n.n(o),c=(n("96cf"),n("fa84")),s=n.n(c),u=n("8c4f"),l=n("6fb1"),f=n("257b"),d=n("dc0b"),p=n("a18c");function v(){return v=s()(r.a.mark((function t(e){var n,a,o,c,s,v;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("makeRoutesFromCategories");case 2:return n=t.sent,t.next=5,e.dispatch("makeRoutesFromSections");case 5:a=t.sent,o=[].concat(i()(f["authRoutes"]),i()(f["accountRoutes"]),i()(f["miscRoutes"]),i()(f["personalRoutes"]),i()(f["adminRoutes"]),i()(d["siteRoutes"]),i()(n),i()(a),i()(f["pageNotFoundRoute"])),config.Global.HomePageRedirect&&(c=o.find((function(t){return"Home"===t.name})),c&&(c.redirect=config.Global.HomePageRedirect)),s=o.filter((function(t){return Object(l["routeHasAccess"])(t)})),v=new u["a"]({mode:"history",routes:s}),p["g"].matcher=v.matcher,console.info("%cRoutes registered",l["consoleInit"],config.Dev.LogInitExtended?s:"");case 12:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}e["a"]=function(t){return v.apply(this,arguments)}},2923:function(t,e,n){"use strict";(function(t,a){n("7f7f"),n("ac4d"),n("8a81"),n("ac6a");var r=n("6fb1");e["a"]=function(e){return t(a.Sections.GetAllSections,{skipLock:!0}).then((function(t){console.info("%cLoadAllSections",r["consoleInit"],config.Dev.LogInitExtended?t.data:""),e.state.allSections={};var n=!0,a=!1,o=void 0;try{for(var i,c=t.data[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value;e.state.allSections[s.name.toLowerCase()]=s}}catch(u){a=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}}))}}).call(this,n("b775")["default"],n("3a75")["default"])},"2a40":function(t,e,n){"use strict";e["a"]={allSections:null,sectionsTypes:null}},"2e26":function(t,e,n){"use strict";e["a"]={showDeletedElements:!1}},"2e5c":function(t,e,n){"use strict";n("7f7f");var a=n("2b0e");e["a"]=function(t,e){t.sectionsTypes||(t.sectionsTypes={}),a["default"].set(t.sectionsTypes,e.name.toLowerCase(),e)}},"2fe3":function(t,e,n){"use strict";function a(t){return function(e){return t.namedMenuItems&&e?t.namedMenuItems[e.toLowerCase()]:null}}n.d(e,"a",(function(){return a}))},3525:function(t,e,n){"use strict";e["a"]={routeAliases:null}},3956:function(t,e,n){"use strict";var a=n("e682");n.d(e,"b",(function(){return a["a"]}));var r=n("7b2f");n.d(e,"c",(function(){return r["a"]}));var o=n("46a0");n.d(e,"d",(function(){return o["a"]}));var i=n("127b");n.d(e,"h",(function(){return i["a"]}));var c=n("756a");n.d(e,"e",(function(){return c["a"]}));var s=n("1e4a");n.d(e,"f",(function(){return s["a"]}));var u=n("a550");n.d(e,"g",(function(){return u["b"]})),n.d(e,"a",(function(){return u["a"]}));var l=n("4360");n.d(e,"i",(function(){return l["b"]}))},"3b59":function(t,e,n){"use strict";(function(t,a){n("7f7f"),n("551c"),n("06db"),n("097d");var r=n("6fb1"),o=n("a18c");e["a"]=function(){t(a.Auth.Logout,void 0,void 0,void 0,!0).finally((function(){Object(r["removeTokens"])(),"Home"!==o["g"].currentRoute.name&&o["g"].push({name:"Home"})}))}}).call(this,n("b775")["default"],n("3a75")["default"])},4228:function(t,e,n){"use strict";var a=n("4db1"),r=n.n(a);n("ac6a"),n("cadf"),n("06db"),n("8615");e["a"]=function(t){var e=[];if(t.state.allSections)for(var n=0,a=Object.values(t.state.allSections);n<a.length;n++){var o=a[n],i=t.getters.getSectionType(o.type);e.push.apply(e,r()(i.getRoutes(o)))}return e}},4360:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a}));n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d");var a,r=n("c47a"),o=n.n(r),i=n("2f62"),c=n("3956"),s=n("6fb1");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t.use(i["a"]),e["a"]=function(){return a=new i["a"].Store(l({},c["g"],{modules:{admin:c["b"],auth:c["c"],categories:c["d"],sections:c["h"],layouts:c["e"],menu:c["f"]}})),Object(s["initLongTokenFromLocalStorage"])(a),a.state.initializedPromise=a.dispatch("initStore"),a}}).call(this,n("2b0e")["default"])},"46a0":function(t,e,n){"use strict";var a=n("e47b"),r=n("515f"),o=n("6e08"),i=n("b530");e["a"]={state:a["a"],actions:{loadAllCategories:r["a"]},getters:{getCategory:o["a"]},mutations:{prepareAllCategories:i["a"]}}},"4d15":function(t,e,n){"use strict";e["a"]=function(){}},"4d2b":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),e["b"]={initializeState:"none",initializedPromise:null,currentPage:null};var a={None:"none",Running:"running",Error:"error",Done:"done"}},"515f":function(t,e,n){"use strict";(function(t,a){var r=n("6fb1");e["a"]=function(e,n){return t(a.Categories.GetAllCategoriesAndAccesses,{skipLock:null===n||void 0===n?void 0:n.skipLock}).then((function(t){console.info("%cLoadAllCategories",r["consoleInit"],config.Dev.LogInitExtended?t.data:""),e.commit("prepareAllCategories",t.data)}))}}).call(this,n("b775")["default"],n("3a75")["default"])},"57a8":function(t,e,n){"use strict";var a=n("2b0e"),r=n("6fb1");e["a"]=function(t,e){e.photo=Object(r["avatarPath"])(e.photo),e.avatar=Object(r["avatarPath"])(e.avatar),a["default"].set(t,"roles",e.roles),delete e.roles,a["default"].set(t,"user",e)}},5931:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var a=n("3956");function r(t){return t.initializeState===a["a"].Done}function o(t){return t.initializeState===a["a"].Error}},"5ffc":function(t,e,n){"use strict";e["a"]={user:null,roles:["Unregistered"]}},6049:function(t,e,n){"use strict";e["a"]=function(t){return function(e){return e?t.allSections[e.toLowerCase()]:null}}},"6e08":function(t,e,n){"use strict";e["a"]=function(t){return function(e){return t.all&&e?t.all[e.toLowerCase()]:null}}},"756a":function(t,e,n){"use strict";var a=n("fa41"),r=n("e01c"),o=n("c918"),i=n("c68c"),c=n("c4dc");e["a"]={state:a["a"],actions:{makeRoutesFromCategories:r["a"],registerAllLayouts:o["a"]},getters:{getLayout:i["a"]},mutations:{registerLayout:c["a"]}}},"7b2f":function(t,e,n){"use strict";var a=n("5ffc"),r=n("e1a7"),o=n("1d8f"),i=n("3b59"),c=n("035f"),s=n("da66"),u=n("57a8");e["a"]={state:a["a"],actions:{loadMyUserInfo:r["a"],login:o["a"],logout:i["a"]},getters:{isAdmin:c["a"]},mutations:{clearAllUserRelatedData:s["a"],setUserInfo:u["a"]}}},a040:function(t,e,n){"use strict";(function(t,a){var r=n("6fb1");e["a"]=function(e,n){return t(a.Menu.GetAllMenuItems,{skipLock:null===n||void 0===n?void 0:n.skipLock}).then((function(t){console.info("%cLoadAllMenuItems",r["consoleInit"],config.Dev.LogInitExtended?t.data:""),e.commit("prepareAllMenuItems",t.data)}))}}).call(this,n("b775")["default"],n("3a75")["default"])},a550:function(t,e,n){"use strict";var a=n("4d2b"),r=n("e9e0"),o=n("287e"),i=n("5931");n.d(e,"a",(function(){return a["a"]})),e["b"]={state:a["b"],getters:{isInitialized:i["b"],initializeError:i["a"]},actions:{initStore:r["a"],setAllRoutes:o["a"]}}},b530:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("fd24"),n("cadf"),n("06db"),n("8615"),n("ac4d"),n("8a81"),n("ac6a"),n("7f7f");var a=n("02ef"),r=n("6fb1");function o(t,e){function n(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e&&(t.all[e.name.toLowerCase()]=e,e.layoutName&&(a=e),a&&(e.sectionRoot=a),e.subCategories)){var r=!0,o=!1,i=void 0;try{for(var c,s=e.subCategories[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var u=c.value;u.parent=e,n(u,a)}}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}function o(t){var e;if(t){var n=!1;if(t.subCategories){var a=!0,r=!1,i=void 0;try{for(var c,s=t.subCategories[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var u=c.value;o(u)&&(n=!0)}}catch(l){r=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}}return(null===(e=t.categoryPersonalAccess)||void 0===e?void 0:e.MaterialWrite)&&(n=!0),t.canSomeChildrenWriteMaterial=n,n}}function i(){for(var e=0,n=Object.values(t.all);e<n.length;e++){var r=n[e];Object.setPrototypeOf(r,a["Category"].prototype)}}t.root=e,t.all={},n(e),o(e),i(),console.info("%cCategories prepared",r["consoleInit"],config.Dev.LogInitExtended?t.all:"")}},b591:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("7f7f"),n("cadf"),n("8615"),n("6b54"),n("06db"),n("ac4d"),n("8a81"),n("ac6a");var a=n("6fb1"),r=n("a18c");function o(t,e){var n={},o=!0,i=!1,c=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;n[l.id.toString()]=l}}catch(C){i=!0,c=C}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}var f=!0,d=!1,p=void 0;try{for(var v,m=e[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var g=v.value;if(g.parentId){var b=n[g.parentId.toString()];if(!b)continue;b.subMenuItems||(b.subMenuItems=[]),b.subMenuItems.push(g),g.parent=b}}}catch(C){d=!0,p=C}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}t.namedMenuItems={};for(var y=0,h=Object.values(n);y<h.length;y++){var L=h[y];L.name&&(t.namedMenuItems[L.name.toLowerCase()]=L)}var S=!0,w=!1,I=void 0;try{for(var k,O=e[Symbol.iterator]();!(S=(k=O.next()).done);S=!0){var x,A=k.value;if(A.routeName)A.to={name:A.routeName,params:null!==(x=A.routeParamsJson)&&void 0!==x?x:void 0},A.path=r["g"].resolve(A.to).href}}catch(C){w=!0,I=C}finally{try{S||null==O.return||O.return()}finally{if(w)throw I}}console.info("%cMenuItems prepared",a["consoleInit"],config.Dev.LogInitExtended?{named:t.namedMenuItems,all:e}:"")}},c4dc:function(t,e,n){"use strict";n("7f7f");var a=n("2b0e");e["a"]=function(t,e){t.all||(t.all={}),a["default"].set(t.all,e.name.toLowerCase(),e)}},c68c:function(t,e,n){"use strict";e["a"]=function(t){return function(e){return e?t.all[e.toLowerCase()]:null}}},c918:function(t,e,n){"use strict";var a=n("967e"),r=n.n(a),o=(n("96cf"),n("fa84")),i=n.n(o),c=n("dc0b"),s=n("f439"),u=n("ee33"),l=n("b7af"),f=n("6fb1");function d(){return d=i()(r.a.mark((function t(e){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("registerLayout",s["articlesLayout"]),e.commit("registerLayout",s["articles1Layout"]),e.commit("registerLayout",s["articles2Layout"]),e.commit("registerLayout",u["blogLayout"]),e.commit("registerLayout",l["forum0Layout"]),e.commit("registerLayout",l["forum1Layout"]),e.commit("registerLayout",l["forum2Layout"]),Object(c["registerLayoutsSite"])(e),console.info("%cLayouts registered",f["consoleInit"],config.Dev.LogInitExtended?e.state.all:"");case 9:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}e["a"]=function(t){return d.apply(this,arguments)}},da66:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("3956");function r(t){t.user=null,t.roles=["Unregistered"],a["i"].state.categories.root=null,a["i"].state.categories.all=null,a["i"].state.menu.namedMenuItems=null,a["i"].state.sections.allSections=null,a["i"].state.admin.showDeletedElements=!1}},e01c:function(t,e,n){"use strict";var a=n("4db1"),r=n.n(a);n("ac6a"),n("cadf"),n("06db"),n("8615");e["a"]=function(t){for(var e=[],n=0,a=Object.values(t.rootState.categories.all);n<a.length;n++){var o=a[n];if(o.layoutName){var i=t.getters.getLayout(o.layoutName);if(!i)continue;e.push.apply(e,r()(i.getRoutes(o))),i.setCategoryRoute(o)}}return e}},e1a7:function(t,e,n){"use strict";(function(t,a){n("551c"),n("06db"),n("097d");var r=n("6fb1");e["a"]=function(e,n){return t(a.Personal.GetMyUserInfo,{skipLock:null===n||void 0===n?void 0:n.skipLock,showErrorsNotifications:!1,blockErrorsNotifications:!0}).then((function(t){e.commit("setUserInfo",t.data)})).catch((function(){console.error("%cTokens removed",r["consoleTokens"]),Object(r["removeTokens"])()})).finally((function(){}))}}).call(this,n("b775")["default"],n("3a75")["default"])},e47b:function(t,e,n){"use strict";e["a"]={root:null,all:null}},e682:function(t,e,n){"use strict";var a=n("2e26");e["a"]={state:a["a"]}},e9e0:function(t,e,n){"use strict";var a=n("967e"),r=n.n(a),o=(n("7f7f"),n("96cf"),n("fa84")),i=n.n(o),c=n("6fb1"),s=n("3956"),u=n("2b0e");function l(){return l=i()(r.a.mark((function t(e){var a,o;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.info("%cStart init store",c["consoleInit"]),e.state.initializeState=s["a"].Running,t.prev=2,t.prev=3,!Object(c["hasLongToken"])()){t.next=7;break}return t.next=7,e.dispatch("loadMyUserInfo");case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](3);case 11:return t.next=13,Object(c["getDynamicConfig"])();case 13:return a={Russian:"ru",English:"en-us"},u["default"].prototype.i18n.locale=a[config.Global.Locale],t.next=17,e.dispatch("loadAllCategories");case 17:return t.next=19,e.dispatch("registerAllLayouts");case 19:return t.next=21,e.dispatch("registerAllSectionsTypes");case 21:return t.next=23,e.dispatch("loadAllSections");case 23:return t.next=25,e.dispatch("setAllRoutes");case 25:return t.next=27,e.dispatch("loadAllMenuItems");case 27:Object(c["makeBreadcrumbs"])(),o=u["default"].prototype.$iconsSets[config.Global.IconsSet],o&&(u["default"].prototype.$iconsSet=o,u["default"].prototype.$q.iconSet.set(n("e556")("./".concat(o.name,".js")).default)),e.state.initializeState=s["a"].Done,t.next=37;break;case 33:t.prev=33,t.t1=t["catch"](2),console.error(t.t1),e.state.initializeState=s["a"].Error;case 37:case"end":return t.stop()}}),t,null,[[2,33],[3,9]])}))),l.apply(this,arguments)}e["a"]=function(t){return l.apply(this,arguments)}},f5d5:function(t,e,n){"use strict";e["a"]={namedMenuItems:null}},fa41:function(t,e,n){"use strict";e["a"]={all:null}},fe3e:function(t,e,n){"use strict";var a=n("967e"),r=n.n(a),o=(n("96cf"),n("fa84")),i=n.n(o),c=n("dc0b"),s=n("6fb1"),u=n("ee33"),l=n("166a");function f(){return f=i()(r.a.mark((function t(e){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("registerSectionType",u["postsSection"]),e.commit("registerSectionType",l["activitiesSection"]),Object(c["registerSectionsSite"])(e),console.info("%cSections types registered",s["consoleInit"],config.Dev.LogInitExtended?e.state.sectionsTypes:"");case 4:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}e["a"]=function(t){return f.apply(this,arguments)}}}]);
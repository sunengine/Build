(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"11de":function(t,s,n){"use strict";var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"custom-css-admin q-gutter-y-md"},[n("div",{staticClass:"flex q-gutter-md flex-center"},[n("q-btn",{staticClass:"send-btn",attrs:{"no-caps":"",icon:t.$iconsSet.CustomCssAdmin.save,label:t.$tl("saveBtn")},on:{click:t.updateCustomCss}}),n("q-btn",{staticClass:"clear-btn",attrs:{"no-caps":"",icon:t.$iconsSet.CustomCssAdmin.clean,color:"warning",label:t.$tl("clearBtn")},on:{click:t.clearCss}}),n("a",{attrs:{href:"https://beautifier.io/",target:"_blank"}},[t._v("CSS Beautifier")]),n("q-space"),n("q-btn",{staticClass:"refresh-btn",attrs:{"no-caps":"",icon:t.$iconsSet.CustomCssAdmin.reset,label:t.$tl("refreshBtn")},on:{click:t.reloadData}})],1),n("q-input",{attrs:{filled:"",label:t.$tl("cssInput"),"input-class":"custom-css-admin__text-area",type:"textarea"},model:{value:t.customCss,callback:function(s){t.customCss=s},expression:"customCss"}}),n("iframe",{staticClass:"hidden",attrs:{id:"testFrame",sandbox:"allow-same-origin allow-scripts"}})],1)},a=[],e=(n("ddb0"),n("ac1f"),n("5319"),n("e856")),l={name:"CustomCssAdmin",mixins:[e["Page"]],data(){return{customCss:null}},methods:{reloadData(){this.loadData().then((t=>{this.$successNotify(this.$tl("reloadSuccessNotify"),"info")}))},loadData(){return this.$request(this.$AdminApi.SkinsAdmin.GetCustomCss).then((t=>{this.customCss=t.data}))},clearCss(){const t=document.getElementById("testFrame").contentDocument;t.open(),t.write("<!DOCTYPE html><title>CSS</title><style></style>"),t.close(),t.querySelector("style").textContent=this.customCss,this.customCss=[...t.styleSheets[0].cssRules].map((t=>t.cssText.replace("{","{\n").replace("}","\n}"))).join("\n\n")},updateCustomCss(){this.$request(this.$AdminApi.SkinsAdmin.UpdateCustomCss,{cssText:this.customCss}).then((t=>{this.$successNotify()}))}},created(){this.title=this.$tl("title"),this.loadData()}},o=l,c=(n("dd7a"),n("2877")),r=n("9c40"),d=n("2c91"),u=n("27f9"),m=n("eebe"),h=n.n(m),p=Object(c["a"])(o,i,a,!1,null,null,null);s["a"]=p.exports;h()(p,"components",{QBtn:r["a"],QSpace:d["a"],QInput:u["a"]})},1487:function(t,s,n){"use strict";n("2066")},"169e":function(t,s,n){"use strict";var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("SunPage",{staticClass:"skins-admin page-padding"},[n("PageHeader",{attrs:{title:t.title}}),n("q-tabs",{staticClass:"bg-grey-2",attrs:{align:"justify","inline-label":""}},[n("q-route-tab",{attrs:{to:{name:"MainSkinsAdmin"},"no-caps":"",name:"skins",icon:t.$iconsSet.SkinsAdmin.main,label:t.$tl("mainSkins")}}),n("q-route-tab",{attrs:{to:{name:"PartialSkinsAdmin"},"no-caps":"",name:"partial-skins",icon:t.$iconsSet.SkinsAdmin.partial,label:t.$tl("partialSkins")}}),n("q-route-tab",{attrs:{to:{name:"CustomCssAdmin"},"no-caps":"",name:"custom-css",icon:t.$iconsSet.SkinsAdmin.customCss,label:t.$tl("customCss")}}),t.allowCustomJavaScript?n("q-route-tab",{attrs:{to:{name:"CustomJavaScriptAdmin"},"no-caps":"",name:"custom-java-script",icon:t.$iconsSet.SkinsAdmin.customJavaScript,label:t.$tl("customJavaScript")}}):t._e()],1),n("div",{staticClass:"q-mb-xl"}),n("router-view")],1)},a=[],e=n("e856"),l={name:"SkinsAdmin",mixins:[e["Page"]],data(){return{tab:"skins"}},computed:{breadcrumbsCategory(){return this.$getBreadcrumbs("Admin")},allowCustomJavaScript(){return config.Admin.AllowCustomJavaScript}},created(){this.title=this.$tl("title")}},o=l,c=(n("6075"),n("2877")),r=n("429b"),d=n("7867"),u=n("7460"),m=n("eebe"),h=n.n(m),p=Object(c["a"])(o,i,a,!1,null,null,null);s["a"]=p.exports;h()(p,"components",{QTabs:r["a"],QRouteTab:d["a"],QTab:u["a"]})},"1c1a":function(t,s,n){"use strict";n("302a")},2066:function(t,s,n){},"302a":function(t,s,n){},3144:function(t,s,n){"use strict";var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"main-skins-admin"},[n("div",{staticClass:"flex flex-center"},[n("q-btn",{staticClass:"skins-admin__post-btn post-btn q-mb-lg",attrs:{"no-caps":"",icon:t.$iconsSet.MainSkinsAdmin.upload,loading:t.loading,label:t.$tl("upload")},on:{click:t.showUploadDialog}},[n("LoaderSent",{attrs:{slot:"loading"},slot:"loading"})],1)],1),n("input",{ref:"file",staticClass:"hidden",attrs:{type:"file",accept:".zip"},on:{change:t.uploadSkin}}),t.skins?n("div",{staticClass:"row q-gutter-lg"},t._l(t.skins,(function(s){return n("q-card",{key:s.name,staticClass:"skins-admin__card"},[n("div",{staticClass:"skins-admin__card-image-section"},[n("q-img",{staticClass:"skins-admin__skin-img",class:{hidden:s.showInfo},attrs:{src:t.skinImgUrl(s.name)}},[n("div",{staticClass:"skins-admin__preview-btn absolute-bottom-right"},[n("q-icon",{attrs:{name:t.$iconsSet.MainSkinsAdmin.preview,size:"20px"}}),n("q-tooltip",{attrs:{anchor:"center middle",self:"center middle"}},[n("img",{attrs:{src:t.skinImgUrl(s.name),width:"800"}})])],1)]),n("q-card-section",{class:{hidden:!s.showInfo}},[n("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.$tl("author"))+"\n\t\t\t\t\t\t"),s.contacts?n("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),s.showContacts=!s.showContacts}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(s.author))]):n("span",[t._v(" "+t._s(s.author)+" ")])]),n("q-slide-transition",[s.contacts&&s.showContacts?n("div",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$tl("contacts"))+"\n\t\t\t\t\t\t\t"),t._l(s.contacts,(function(i,a){return n("span",{key:a},[i.startsWith("http")?n("a",{staticClass:"link",attrs:{href:i}},[t._v(t._s(i))]):[t._v(" "+t._s(i)+" ")],a!=s.contacts.length-1?[t._v(", ")]:t._e()],2)}))],2):t._e()]),n("div",[t._v(t._s(t.$tl("version"))+" "+t._s(s.version))]),s.sourceUrl?n("div",[n("a",{staticClass:"link",attrs:{target:"_blank",href:s.sourceUrl}},[t._v(t._s(t.$tl("link")))])]):t._e(),s.description?n("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.$tl("description"))+" "+t._s(s.description)+"\n\t\t\t\t\t")]):t._e()],1)],1),n("q-card-section",{staticClass:"skins-admin__skin-name h6"},[t._v("\n\t\t\t\t"+t._s(s.name)+"\n\t\t\t")]),n("q-card-actions",{attrs:{align:"around"}},[s.current?n("q-btn",{staticClass:"skins-admin__current-btn",attrs:{flat:"","no-caps":"",label:t.$tl("current"),icon:t.$iconsSet.MainSkinsAdmin.current}}):t._e(),s.current?t._e():n("q-btn",{staticClass:"skins-admin__send-btn",attrs:{flat:"",loading:s.loading,"no-caps":"",icon:t.$iconsSet.MainSkinsAdmin.set,label:t.$tl("set")},on:{click:function(n){return t.changeSkin(s.name)}}},[n("LoaderSent",{attrs:{slot:"loading"},slot:"loading"})],1),n("q-btn",{staticClass:"skins-admin__delete-btn",attrs:{"no-caps":"",flat:"",icon:t.$iconsSet.MainSkinsAdmin.info},on:{click:function(n){return t.showSkinInfo(s)}}}),s.current?t._e():n("q-btn",{staticClass:"skins-admin__info-btn",attrs:{"no-caps":"",flat:"",icon:t.$iconsSet.MainSkinsAdmin.delete},on:{click:function(n){return t.deleteSkin(s.name)}}})],1)],1)})),1):n("LoaderWait"),n("q-banner",{staticClass:"skins-admin__info shadow-1 q-mt-xl",attrs:{rounded:""}},[t._v("\n\t\t"+t._s(t.$tl("info"))+"\n\t\t"),n("a",{staticClass:"skins-admin__info-link link",attrs:{href:"https://github.com/sunengine/SunEngine.Skins",target:"_blank"}},[t._v("\n\t\t\thttps://github.com/sunengine/SunEngine.Skins\n\t\t")])])],1)},a=[],e=n("4379"),l=e["a"],o=(n("1487"),n("2877")),c=n("9c40"),r=n("f09f"),d=n("068f"),u=n("0016"),m=n("05c0"),h=n("a370"),p=n("e9c1"),f=n("4b7e"),k=n("54e1"),S=n("eebe"),b=n.n(S),$=Object(o["a"])(l,i,a,!1,null,null,null);s["a"]=$.exports;b()($,"components",{QBtn:c["a"],QCard:r["a"],QImg:d["a"],QIcon:u["a"],QTooltip:m["a"],QCardSection:h["a"],QSlideTransition:p["a"],QCardActions:f["a"],QBanner:k["a"]})},"3e4d":function(t,s,n){"use strict";n("504a")},4379:function(t,s,n){"use strict";(function(t){n("a79d"),n("ddb0");s["a"]={name:"MainSkinsAdmin",mixins:[t],data(){return{skins:null,loading:!1}},methods:{skinImgUrl(t){return this.$buildPath(config.UrlPaths.Skins,t,"preview.png")},showUploadDialog(){this.$refs.file.click()},uploadSkin(){this.loading=!0;const t=this.$refs.file.files[0],s=new FormData;s.append("file",t),this.$request(this.$AdminApi.SkinsAdmin.UploadSkin,s).then((t=>{this.$successNotify(this.$tl("uploadSuccessNotify")),this.$refs.file.value="",this.getAllSkins()})).finally((t=>{this.loading=!1}))},deleteSkin(t){const s=this.$tl("deleteMsg"),n=this.$tl("btnDeleteOk"),i=this.$tl("btnDeleteCancel");this.$q.dialog({message:s,ok:n,cancel:i}).onOk((()=>{this.$request(this.$AdminApi.SkinsAdmin.DeleteSkin,{name:t}).then((t=>{this.$successNotify(this.$tl("deleteSuccessNotify")),this.getAllSkins()}))}))},changeSkin(t){this.skins.find((s=>s.name===t)).loading=!0,this.$request(this.$AdminApi.SkinsAdmin.ChangeSkin,{name:t}).then((t=>{this.$successNotify(),this.getAllSkins()})).finally((s=>{this.skins.find((s=>s.name===t)).loading=!1}))},getAllSkins(){this.$request(this.$AdminApi.SkinsAdmin.GetAllSkins).then((t=>{for(const s of t.data)s.showInfo=!1,s.showContacts=!1,s.loading=!1;this.skins=t.data}))},showSkinInfo(t){t.showInfo=!t.showInfo}},created(){this.title=this.$tl("title"),this.getAllSkins()}}}).call(this,n("7c53")["default"])},"504a":function(t,s,n){},6075:function(t,s,n){"use strict";n("f2b1")},be10:function(t,s,n){"use strict";var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"partial-skins-admin"},[n("div",{staticClass:"flex flex-center"},[n("q-btn",{staticClass:"skins-admin__post-btn post-btn q-mb-lg",attrs:{"no-caps":"",icon:t.$iconsSet.PartialSkinsAdmin.upload,loading:t.loading,label:t.$tl("upload")},on:{click:t.showUploadDialog}},[n("LoaderSent",{attrs:{slot:"loading"},slot:"loading"})],1)],1),n("input",{ref:"file",staticClass:"hidden",attrs:{type:"file",accept:".zip"},on:{change:t.uploadPartialSkin}}),t.pSkins?n("q-markup-table",{attrs:{"wrap-cells":""}},[n("tbody",t._l(t.pSkins,(function(s){return n("q-tr",{key:s.name,class:s.current?"partial-skins-admin__on":"partial-skins-admin__off"},[n("q-td",[t._v(t._s(s.name))]),n("q-td",[n("q-toggle",{on:{input:function(n){return t.enablePartialSkin(n,s)}},model:{value:s.current,callback:function(n){t.$set(s,"current",n)},expression:"pSkin.current"}})],1),n("q-td",{},[t._v(t._s(s.description))]),n("q-td",[n("q-btn",{attrs:{disable:s.current,flat:"",dense:"",icon:t.$iconsSet.PartialSkinsAdmin.delete},on:{click:function(n){return t.deletePartialSkin(s.name)}}})],1)],1)})),1)]):n("LoaderWait")],1)},a=[],e=(n("a79d"),n("ddb0"),n("e856")),l={name:"PartialSkinsAdmin",mixins:[e["Page"]],data(){return{pSkins:null,loading:!1}},computed:{skinsDir(){return config.SkinsDir}},methods:{showUploadDialog(){this.$refs.file.click()},uploadPartialSkin(){this.loading=!0;const t=this.$refs.file.files[0],s=new FormData;s.append("file",t);const n=this.$tl("uploadSuccessNotify");this.$request(this.$AdminApi.SkinsAdmin.UploadPartialSkin,s).then((t=>{this.$successNotify(n),this.$refs.file.value="",this.getAllPartialSkins()})).finally((t=>{this.loading=!1}))},deletePartialSkin(t){const s=this.$tl("deleteMsg"),n=this.$tl("btnDeleteOk"),i=this.$tl("btnDeleteCancel"),a=this.$tl("deleteSuccessNotify");this.$q.dialog({message:s,ok:n,cancel:i}).onOk((()=>{this.$request(this.$AdminApi.SkinsAdmin.DeletePartialSkin,{name:t}).then((t=>{this.$successNotify(a),this.getAllPartialSkins()}))}))},enablePartialSkin(t,s){this.$request(this.$AdminApi.SkinsAdmin.EnablePartialSkin,{name:s.name,enable:t}).then((t=>{this.getAllPartialSkins()}))},getAllPartialSkins(){this.$request(this.$AdminApi.SkinsAdmin.GetAllPartialSkins).then((t=>{for(const s of t.data)s.showInfo=!1,s.showContacts=!1,s.loading=!1;this.pSkins=t.data}))},showSkinInfo(t){t.showInfo=!t.showInfo}},created(){this.title=this.$tl("title"),this.getAllPartialSkins()}},o=l,c=(n("3e4d"),n("2877")),r=n("9c40"),d=n("2bb1"),u=n("bd08"),m=n("db86"),h=n("9564"),p=n("eebe"),f=n.n(p),k=Object(c["a"])(o,i,a,!1,null,null,null);s["a"]=k.exports;f()(k,"components",{QBtn:r["a"],QMarkupTable:d["a"],QTr:u["a"],QTd:m["a"],QToggle:h["a"]})},d2de:function(t,s,n){"use strict";var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"custom-java-script-admin q-gutter-y-md"},[n("div",{staticClass:"flex q-gutter-md"},[n("q-btn",{staticClass:"send-btn",attrs:{"no-caps":"",icon:t.$iconsSet.CustomJavaScriptAdmin.save,label:t.$tl("saveBtn")},on:{click:t.updateCustomJavaScript}}),n("q-space"),n("q-btn",{staticClass:"refresh-btn",attrs:{"no-caps":"",icon:t.$iconsSet.CustomJavaScriptAdmin.reset,label:t.$tl("refreshBtn")},on:{click:t.reloadData}})],1),n("q-input",{attrs:{filled:"",label:t.$tl("javaScriptInput"),"input-class":"custom-java-script-admin__text-area",type:"textarea"},model:{value:t.customJavaScript,callback:function(s){t.customJavaScript=s},expression:"customJavaScript"}}),n("iframe",{staticClass:"hidden",attrs:{id:"testFrame",sandbox:"allow-same-origin"}})],1)},a=[],e=n("e856"),l={name:"CustomJavaScriptAdmin",mixins:[e["Page"]],data(){return{customJavaScript:null}},methods:{reloadData(){this.loadData().then((t=>{this.$successNotify(this.$tl("reloadSuccessNotify"),"info")}))},loadData(){return this.$request(this.$AdminApi.SkinsAdmin.GetCustomJavaScript).then((t=>{this.customJavaScript=t.data}))},updateCustomJavaScript(){this.$request(this.$AdminApi.SkinsAdmin.UpdateCustomJavaScript,{javaScriptText:this.customJavaScript}).then((t=>{this.$successNotify()}))}},created(){this.title=this.$tl("title"),this.loadData()}},o=l,c=(n("1c1a"),n("2877")),r=n("9c40"),d=n("2c91"),u=n("27f9"),m=n("eebe"),h=n.n(m),p=Object(c["a"])(o,i,a,!1,null,null,null);s["a"]=p.exports;h()(p,"components",{QBtn:r["a"],QSpace:d["a"],QInput:u["a"]})},dd7a:function(t,s,n){"use strict";n("f181")},f181:function(t,s,n){},f2b1:function(t,s,n){}}]);